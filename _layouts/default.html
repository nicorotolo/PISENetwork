<!doctype html>
<html lang="{{ site.locale | replace: "_", "-" | default: "en" }}" class="no-js">

<head>
  {% include head.html %}
  {% include head/custom.html %}
</head>

<body>
  <!-- Masthead: Top banner or header of the site -->
  {% include_cached masthead.html %}

  <!-- Main content of the page -->
  <div class="initial-content">
    {{ content }}
    {% include after-content.html %}
  </div>

  <!-- Footer section of the site -->
  <div id="footer" class="page__footer">
    <footer>
      {% include footer/custom.html %}
      {% include_cached footer.html %}
    </footer>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom Script for Accordion Behavior -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Initialize all collapsible elements
      var accordionButtons = document.querySelectorAll(".accordion-button");

      accordionButtons.forEach(function (button) {
        button.addEventListener("click", function () {
          var targetId = button.getAttribute("data-bs-target");
          var target = document.querySelector(targetId);

          // Debugging: Log the current state
          console.log("Button clicked:", targetId, "Current state:", target.classList);

          // Toggle collapse manually
          var collapseInstance = bootstrap.Collapse.getOrCreateInstance(target);

          if (target.classList.contains("show")) {
            console.log("Collapsing:", targetId);
            collapseInstance.hide(); // Collapse
          } else if (!target.classList.contains("collapsing")) {
            console.log("Expanding:", targetId);
            collapseInstance.show(); // Expand
          }
        });
      });
    });
  </script>
</body>

</html>
