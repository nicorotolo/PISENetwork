{% capture logo_path %}{{ site.logo }}{% endcapture %}

<div class="masthead">
  <div class="masthead__inner-wrap">
    <nav id="site-nav" class="greedy-nav">
      <!-- Logo -->
      {% unless site.logo == empty %}
        <a class="site-logo" href="{{ '/' | relative_url }}">
          <img src="{{ site.logo | relative_url }}" alt="{{ site.title }}">
        </a>
      {% endunless %}

      <!-- Title -->
      <a class="site-title" href="{{ '/' | relative_url }}">
        {{ site.masthead_title | default: site.title }}
        {% if site.subtitle %}
          <span class="site-subtitle">{{ site.subtitle }}</span>
        {% endif %}
      </a>

      <!-- Hamburger Button and Side Menu -->
      <div class="burger">
        <input type="checkbox" id="burger" />
        <label for="burger">
          <span></span>
          <span></span>
          <span></span>
        </label>

        <!-- Side Menu (Direct Sibling) -->
        <div class="side-menu">
          <ul class="menu">
            {% for item in site.data.navigation.main %}
              <li><a href="{{ item.url | relative_url }}">{{ item.title }}</a></li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <!-- Default Navigation Links -->
      <ul class="visible-links">
        {% for link in site.data.navigation.main %}
          <li class="masthead__menu-item">
            <a
              href="{{ link.url | relative_url }}"
              {% if link.description %} title="{{ link.description }}"{% endif %}
            >{{ link.title }}</a>
          </li>
        {% endfor %}
      </ul>
    </nav>
  </div>
</div>




<!-- Swiper JS -->
<script src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    new Swiper('.swiper-{{ include.id }}', {
      effect: 'coverflow',
      centeredSlides: true,
      slidesPerView: 'auto',
      coverflowEffect: {
        rotate: 0,
        stretch: 100,
        depth: 200,
        modifier: 1.2,
        slideShadows: false
      },
      autoplay: { delay: 3000, disableOnInteraction: false },
      pagination: {
        el: '.swiper-{{ include.id }} .swiper-pagination',
        clickable: true,
        renderBullet: (i, cls) => `<span class="${cls}"></span>`
      }
    });
  });
</script>

{% if page.layout == "editorial-article" %}
  {% include reading-progress.js.html %}
{% endif %}
